<ion-view title='History Map' ng-controller='HistoryCtrl as vm' class="angular-google-map-container">
  <!-- <ion-content class="has-header"> -->
  <ion-content class="has-no-header">

  		<!-- consider ultimately using a heatmap when we are showing more data / peer data? -->
			<ui-gmap-google-map center="vm.map.center" zoom="vm.map.zoom" draggable="true" options="vm.map.options" events="vm.map.events" control="vm.googlemap">
				<ui-gmap-markers models="vm.markers" idKey='vm.markers.id' coords="'self'" icon="'icon'" options="'options'" click="onClick" events="markers.events">
				<!-- doRebuildAll="true"  click="vm.clickMapPoint(rate)" -->
        </ui-gmap-markers>
        <ui-gmap-window coords="vm.MapOptions.markers.selected" show="vm.windowOptions.show" options="vm.windowOptions" closeClick="vm.closeClick()">
        	<div>
        		<!-- TODO why is ng-show not showing these conditionals? -->
<!-- 		        <h2 ng-show="vm.isSlow(vm.MapOptions.markers.selected.rate)" class='color-red'>{{vm.MapOptions.markers.selected.rate}} Kbps</h2>
		        <h2 ng-show="vm.isMedium(vm.MapOptions.markers.selected.rate)" class='color-yellow'>{{vm.MapOptions.markers.selected.rate}} Mbps</h2>
		        <h2 ng-show="vm.isFast(vm.MapOptions.markers.selected.rate)" class='color-green'>{{vm.MapOptions.markers.selected.rate}} Mbps</h2>
 -->
		        <h2>{{vm.MapOptions.markers.selected.rate}} Kbps</h3>
	  	      <h5>{{vm.MapOptions.markers.selected.size}} KB in {{vm.MapOptions.markers.selected.elapsed}} ms ({{vm.MapOptions.markers.selected.network}})</h5>
	  	      <h5>{{vm.MapOptions.markers.selected.id | date:'medium' }}</h5>
		      </div>
        </ui-gmap-window>
		</ui-gmap-google-map>

  </ion-content>
</ion-view>